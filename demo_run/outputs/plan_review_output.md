## 审视结论
- 风险点: 参数解析若仅依赖位置参数，错误提示可能不清晰。
- 缺失点: 未明确主函数返回码规范与测试对 stderr 的断言。

## 修改说明
- [调整] 将“参数校验”细化为“命令合法性 + 参数数量 + 参数类型”三级校验（提升可诊断性）。
- [新增] 增加 `main(argv)` 返回退出码并在 `if __name__ == '__main__'` 中 `sys.exit(main(...))`（提升可测试性）。
- [新增] 测试覆盖 stderr 错误文案关键字（确保用户体验一致）。

## 最终版实施计划
1. 实现 `main(argv)`、`parse_int()`、`run_op()`，统一返回码。
2. 实现合法命令与参数校验，错误写入 stderr 并返回 `2`。
3. 编写单测：`add/sub` 成功、非法命令、参数非整数、参数数量不足。
4. 运行单测并修复失败用例。

## Bonus 建议
1. 增加 `--help` 支持，降低首次使用成本。
2. 将命令映射抽为字典，便于后续扩展 `mul/div`。

## 执行前确认
请确认是否以此最终计划进入批量实施。
