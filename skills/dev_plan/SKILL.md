---
name: dev_plan
description: 在代码变更前产出结构化开发计划，明确范围、约束和执行步骤。
metadata:
  short-description: 结构化开发计划
---

# Skill: dev_plan

## Goal
在任何代码变更前产出结构化开发计划，明确约束、范围和实施步骤。

## Hard Rules
- 禁止在本技能阶段输出可执行代码。
- 必须覆盖前端/后端/数据/测试中的相关项（不相关可明确写 N/A）。
- 结尾必须是：`请问是否同意按此计划执行？`

## Input
- 用户原始需求
- 当前仓库结构（若可获取）
- 现有技术栈与限制条件

## Workflow
1. 复述需求并标注范围边界（做什么/不做什么）。
2. 提取关键约束：性能、交互完整性、安全性、可维护性。
3. 模块化拆分任务，给出依赖顺序。
4. 给出技术选型建议（沿用现有栈优先）。
5. 列出预计修改文件清单（新建/修改/删除）。
6. 给出验证方案（测试、手工验收点、回滚点）。

## Frontend Checklist
- 组件复用和状态流转是否清晰。
- Loading/Empty/Error 三态是否覆盖。
- 响应式布局、间距、对齐和可访问性是否达标。

## Backend Checklist
- 接口语义与 RESTful 规范是否一致。
- 输入校验、鉴权、异常处理是否完整。
- 异步性能与数据库查询是否可扩展。

## Output Template
```md
## 需求理解
...

## 范围与边界
- In Scope: ...
- Out of Scope: ...

## 实施计划
1. ...
2. ...
3. ...

## 技术选型建议
- ...

## 预计修改文件
- [新增] path/a
- [修改] path/b

## 验证与回滚
- 测试: ...
- 验收: ...
- 回滚: ...

请问是否同意按此计划执行？
```

## Done Criteria
- 无代码输出。
- 计划可执行、可验证、可回滚。
- 用户已收到明确确认问题。
